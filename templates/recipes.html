{% extends "layout.html" %} {% block recipe_creator_hero_wrap_section %}
<section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_4.jpg');">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text align-items-end justify-content-center">
            <div class="col-md-9 ftco-animate pb-5 text-center">
                <h1 class="mb-3 bread">Recipes</h1>
                <p class="breadcrumbs"><span class="mr-2"><a href="{{url_for('init')}}">Home <i class="ion-ios-arrow-forward"></i></a></span> <span>Recipes <i class="ion-ios-arrow-forward"></i></span></p>
            </div>
        </div>
    </div>
</section>
{% endblock %} {% block recipe_creator_section %}
<section class="ftco-section">
    <div class="container">
        <ul class="nav nav-pills mb-3 nav-justified" id="pills-tab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="pills-my_recipes-tab" data-toggle="pill" href="#pills-my_recipes" role="tab" aria-controls="pills-my_recipes" aria-selected="true">My Recipes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="pills-recipe_creator-tab" data-toggle="pill" href="#pills-recipe_creator" role="tab" aria-controls="pills-recipe_creator" aria-selected="false">Recipe Creator</a>
            </li>
            <!--<li class="nav-item">-->
            <!--    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Contact</a>-->
            <!--</li>-->
        </ul>
        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-my_recipes" role="tabpanel" aria-labelledby="pills-my_recipes-tab">
                <div class="container">
                    <div class="row">
                        <div class="col heading-section ftco-animate">
                            <h2 class="mb-4"><span>My Recipes</span></h2>
                            <section class="ftco-section ftco-animate">
                                <div class="container">
                                    <div class="row">
                                        <div class="col">
                                            <div class="sidebar-box px-md-5 mb-5">
                                                <form class="search-form">
                                                    <div class="form-group">
                                                        <span class="icon icon-search"></span>
                                                        <input type="text" name="search" class="form-control" placeholder="Search for a recipe">
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        {% for i in user_recipe_list %}
                                        <div class="col-md-4 ftco-animate">
                                            <div class="blog-entry">
                                                <a href="{{ url_for('article', article_id='{}'.format(i.post_recipe_id)) }}"class="img-2"><img src="{{ url_for('recipe_picture', filename='{}'.format(i.post_photo_uri)) }}" class="img-fluid" alt="Colorlib Template"></a>
                                                <div class="text pt-3">
                                                    <p class="meta d-flex"><span class="pr-3">{{i.post_number_of_views}} views</span><span class="ml-auto pl-3">{{i.post_date_published}}</span></p>
                                                    <h3><a href="single.html">{{i.post_recipe_name |title}}</a></h3>
                                                    <div class="tagcloud">
                                                        {% if i.post_categories[0] is iterable and i.post_categories[0] is not string %} {% for j in i.post_categories %}
                                                        <a href="#" class="tag-cloud-link">{{j[0]}}</a> {% endfor %} {% else %}
                                                        <a href="#" class="tag-cloud-link">{{i.post_categories[0]}}</a> {% endif %}
                                                    </div>
                                                    <p class="mb-0"><a href="single.html" class="btn btn-black py-2">Update Recipe</a></p>
                                                </div>
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="pills-recipe_creator" role="tabpanel" aria-labelledby="pills-recipe_creator-tab">
                <div class="container">
                    <div class="row">
                        <div class="col heading-section ftco-animate">
                            <h2 class="mb-4"><span>Recipe Creator</span></h2>
                            {% if user_is_an_author %}
                            <section class="ftco-section ftco-animate">
                                <div class="container">
                                    <form method="POST" enctype="multipart/form-data">
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="recipe_photo">Recipe Photo</label>
                                                    <input type="file" class="form-control" name="recipe_photo">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="recipe_title">Recipe Title</label>
                                                    <input type="text" class="form-control" name="recipe_title">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="prep_time">Total Preparation Time:</label>
                                                    <input type="text" class="form-control" name="prep_time">
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="cook_time">Total Cooking Time:</label>
                                                    <input type="text" class="form-control" name="cook_time">
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="ready_in_time">Ready in Time:</label>
                                                    <input type="text" class="form-control" name="ready_in_time">
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="serve_selection_list">Serves:</label>
                                                    <select class="form-control" id="serve_selection_list" name="serves_number">
                                                      <option value="1">1</option>
                                                      <option value="2">2</option>
                                                      <option value="3">3</option>
                                                      <option value="4">4</option>
                                                      <option value="5">5</option>
                                                      <option value="6">6</option>
                                                      <option value="7">7</option>
                                                      <option value="8">8</option>
                                                      <option value="9">9</option>
                                                      <option value="10">10</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="recipe_procedure_text_area">Recipe Procedure: </label>
                                                    <textarea class="form-control" name="recipe_procedure_text_area" id="recipe_procedure_text_area" rows="5"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="allergens">Allergens:</label>
                                                <select class="form-control" id="allergen_selection_list" name="allergens" multiple>
                                                {% for k in recipe_creator_form_details[0] %}
                                                <option value="{{k.id}}">{{k.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="allergens_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="cooking_styles">Cooking Style:</label>
                                                <select class="form-control" id="cooking_style_selection_list" name="cooking_styles" multiple>
                                                {% for l in recipe_creator_form_details[1] %}
                                                <option value="{{l.id}}">{{l.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="cooking_styles_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="cuisines">Cuisine:</label>
                                                <select class="form-control" id="cuisine_selection_list" name="cuisines" multiple>
                                                {% for m in recipe_creator_form_details[2] %}
                                                <option value="{{m.id}}">{{m.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="cuisines_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="diet_health_types">Diet & Health:</label>
                                                <select class="form-control" id="diet_health_type_selection_list" name="diet_health_types" multiple>
                                                {% for n in recipe_creator_form_details[3] %}
                                                <option value="{{n.id}}">{{n.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="diet_health_types_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="dish_types">Dish Type:</label>
                                                <select class="form-control" id="dish_type_selection_list" name="dish_types" multiple>
                                                {% for o in recipe_creator_form_details[4] %}
                                                <option value="{{o.id}}">{{o.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="dish_types_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="meal_types">Meal Type:</label>
                                                <select class="form-control" id="meal_type_selection_list" name="meal_types" multiple>
                                                {% for p in recipe_creator_form_details[5] %}
                                                <option value="{{p.id}}">{{p.name | title}}</option>
                                                {% endfor %}
                                                </select>
                                                <small id="meal_types_Help" class="form-text text-muted">Hold down the control/command button to select multiple options.</small>
                                            </div>
                                        </div>
                                        <div class="mt-2">
                                            <button type="submit" class="btn btn-primary btn-lg">Create Recipe</button>
                                        </div>
                                    </form>
                                </div>
                            </section>
                            {% else %}
                            <section class="ftco-section ftco-animate">
                                <div class="container">
                                    <div class="row">
                                        <div class="col">
                                            <h3>You're not an author. Only Authors can create recipes.</h3>
                                            <buttton class="btn btn-primary">Become an author</buttton>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <!--<div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">...</div>-->
        </div>

    </div>
</section>
{% endblock %}
